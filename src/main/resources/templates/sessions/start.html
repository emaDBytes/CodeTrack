<!-- src\main\resources\templates\sessions\start.html -->
<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
>
  <head th:replace="fragments/layout :: head('Start New Session')"> </head>
  <body>
    <nav th:replace="fragments/layout :: nav"></nav>

    <div class="container mt-4">
      <div class="row justify-content-center">
        <div class="col-md-8">
          <div class="card">
            <div class="card-header bg-primary text-white">
              <h4 class="mb-0">Start New Coding Session</h4>
            </div>
            <div class="card-body">
              <!-- Alert Messages -->
              <div th:if="${success}" class="alert alert-success" role="alert">
                <span th:text="${success}">Success!</span>
              </div>
              <div th:if="${error}" class="alert alert-danger" role="alert">
                <span th:text="${error}">Error!</span>
              </div>

              <form
                th:action="@{/sessions/start}"
                th:object="${newSession}"
                method="post"
              >
                <!-- Project Name -->
                <div class="mb-3">
                  <label for="projectName" class="form-label"
                    >Project Name</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="projectName"
                    th:field="*{projectName}"
                    th:classappend="${#fields.hasErrors('projectName')} ? 'is-invalid' : ''"
                    placeholder="Enter project name (optional)"
                  />
                  <div
                    class="invalid-feedback"
                    th:if="${#fields.hasErrors('projectName')}"
                    th:errors="*{projectName}"
                  >
                    Project name error
                  </div>
                  <div class="form-text">
                    Give your coding session a project name to help organize
                    your work
                  </div>
                </div>

                <!-- Description -->
                <div class="mb-3">
                  <label for="description" class="form-label"
                    >Description</label
                  >
                  <textarea
                    class="form-control"
                    id="description"
                    rows="3"
                    th:field="*{description}"
                    th:classappend="${#fields.hasErrors('description')} ? 'is-invalid' : ''"
                    placeholder="What are you working on? (optional)"
                  ></textarea>
                  <div
                    class="invalid-feedback"
                    th:if="${#fields.hasErrors('description')}"
                    th:errors="*{description}"
                  >
                    Description error
                  </div>
                  <div class="form-text">
                    Briefly describe what you plan to work on during this
                    session
                  </div>
                </div>

                <!-- Session Guidelines -->
                <div class="alert alert-info mb-4" role="alert">
                  <h5 class="alert-heading">Session Guidelines</h5>
                  <ul class="mb-0">
                    <li>Sessions automatically track your coding time</li>
                    <li>You can only have one active session at a time</li>
                    <li>Don't forget to end your session when you're done</li>
                    <li>You can add or update the description later</li>
                  </ul>
                </div>

                <!-- Buttons -->
                <div class="d-grid gap-2">
                  <button type="submit" class="btn btn-primary">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="bi bi-play-circle me-2"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
                      />
                      <path
                        d="M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z"
                      />
                    </svg>
                    Start Coding Session
                  </button>
                  <a href="/sessions" class="btn btn-outline-secondary">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="bi bi-arrow-left me-2"
                      viewBox="0 0 16 16"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"
                      />
                    </svg>
                    Back to Sessions
                  </a>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div th:replace="fragments/layout :: scripts"></div>
  </body>
</html>
